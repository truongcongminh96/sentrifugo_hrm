TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`%` TRIGGER `main_requisition_aft_ins` AFTER INSERT ON `main_requisition` \n					FOR EACH ROW BEGIN\n						DECLARE pos_name,rep_name,bunit_name,dept_name,job_name,empt_name,app1_name,app2_name,app3_name,createdbyname VARCHAR(200);\n						SELECT positionname INTO pos_name FROM main_positions WHERE id = new.position_id;\n						SELECT userfullname INTO rep_name FROM main_users WHERE id = new.reporting_id;\n						SELECT userfullname INTO app1_name FROM main_users WHERE id = new.approver1;\n						SELECT userfullname INTO createdbyname FROM main_users WHERE id = new.createdby;\n						SET app2_name = NULL;\n						SET app3_name = NULL;\n						IF new.approver2 IS NOT NULL THEN \n						SELECT userfullname INTO app2_name FROM main_users WHERE id = new.approver2;\n						END IF;\n						\n						IF new.approver3 IS NOT NULL THEN \n						SELECT userfullname INTO app3_name FROM main_users WHERE id = new.approver3;\n						END IF;\n						SELECT unitname INTO bunit_name FROM main_businessunits WHERE id = new.businessunit_id;\n						SELECT deptname INTO dept_name FROM main_departments WHERE id = new.department_id;\n						SELECT jobtitlename INTO job_name FROM main_jobtitles WHERE id = new.jobtitle;\n						SELECT te.employemnt_status INTO empt_name FROM main_employmentstatus em \n					   INNER JOIN tbl_employmentstatus te ON te.id = em.workcodename WHERE em.id = new.emp_type;\n						INSERT INTO main_requisition_summary \n						(req_id, requisition_code, onboard_date, position_id, position_name, reporting_id, reporting_manager_name,businessunit_id, businessunit_name, department_id, department_name, jobtitle, jobtitle_name,req_no_positions, selected_members, filled_positions, jobdescription, req_skills, req_qualification,req_exp_years,emp_type, emp_type_name, req_priority, additional_info, req_status, approver1, approver1_name,approver2, approver2_name, approver3, approver3_name, appstatus1, appstatus2, appstatus3,recruiters,client_id, isactive,createdby, modifiedby,createdon, modifiedon,createdby_name\n						)\n						VALUES\n						(new.id, \n						 \n						new.requisition_code, \n						new.onboard_date, \n						new.position_id, \n						pos_name, \n						new.reporting_id, \n						rep_name, \n						new.businessunit_id, \n						bunit_name, \n						new.department_id, \n						dept_name, \n						new.jobtitle, \n						job_name, \n						new.req_no_positions, \n						new.selected_members, \n						new.filled_positions, \n						new.jobdescription, \n						new.req_skills, \n						new.req_qualification, \n						new.req_exp_years, \n						new.emp_type, \n						empt_name, \n						new.req_priority, \n						new.additional_info, \n						new.req_status, \n						new.approver1, \n						app1_name, \n						new.approver2, \n						app2_name, \n						new.approver3, \n						app3_name, \n						new.appstatus1, \n						new.appstatus2, \n						new.appstatus3, \n						new.recruiters,\n						new.client_id,\n						new.isactive, \n						new.createdby, \n						new.modifiedby, \n						new.createdon, \n						new.modifiedon,createdbyname\n						);\n					END' 'CREATE DEFINER=`root`@`%` TRIGGER `main_requisition_aft_upd` AFTER UPDATE ON `main_requisition` \n					FOR EACH ROW BEGIN\n					DECLARE pos_name,rep_name,bunit_name,dept_name,job_name,empt_name,app1_name,app2_name,app3_name VARCHAR(200);\n					SELECT positionname INTO pos_name FROM main_positions WHERE id = new.position_id;\n					SELECT userfullname INTO rep_name FROM main_users WHERE id = new.reporting_id;\n					SELECT userfullname INTO app1_name FROM main_users WHERE id = new.approver1;\n					SET app2_name = NULL;\n					SET app3_name = NULL;\n					IF new.approver2 IS NOT NULL THEN \n						SELECT userfullname INTO app2_name FROM main_users WHERE id = new.approver2;\n						END IF;\n					\n					IF new.approver3 IS NOT NULL THEN \n						SELECT userfullname INTO app3_name FROM main_users WHERE id = new.approver3;\n						END IF;\n					SELECT unitname INTO bunit_name FROM main_businessunits WHERE id = new.businessunit_id;\n					SELECT deptname INTO dept_name FROM main_departments WHERE id = new.department_id;\n					SELECT jobtitlename INTO job_name FROM main_jobtitles WHERE id = new.jobtitle;\n					SELECT te.employemnt_status INTO empt_name FROM main_employmentstatus em \n					   INNER JOIN tbl_employmentstatus te ON te.id = em.workcodename WHERE em.id = new.emp_type;\n					UPDATE main_requisition_summary SET\n					 requisition_code = new.requisition_code,onboard_date = new.onboard_date, position_id = new.position_id, position_name = pos_name, \n					 reporting_id = new.reporting_id, reporting_manager_name = rep_name , \n					businessunit_id = new.businessunit_id, businessunit_name = bunit_name, \n					department_id = new.department_id, department_name = dept_name, \n					jobtitle = new.jobtitle, jobtitle_name = job_name,	req_no_positions = new.req_no_positions, \n					selected_members = new.selected_members, filled_positions = new.filled_positions, \n					jobdescription = new.jobdescription, req_skills = new.req_skills, req_qualification = new.req_qualification, \n					req_exp_years = new.req_exp_years, 	emp_type = new.emp_type, emp_type_name = empt_name, \n					req_priority = new.req_priority, additional_info = new.additional_info, req_status = new.req_status,\n					 approver1 = new.approver1, approver1_name = app1_name,	approver2 = new.approver2, \n					 approver2_name = app2_name, approver3 = new.approver3, approver3_name = app3_name, \n					 appstatus1 = new.appstatus1, appstatus2 = new.appstatus2, appstatus3 = new.appstatus3,recruiters=new.recruiters,client_id=new.client_id, \n					 modifiedby = new.modifiedby, 	modifiedon = new.modifiedon,isactive = new.isactive WHERE req_id = new.id ;\n					 \n					END'
sql_modes=0 0
definers='root@%' 'root@%'
client_cs_names='utf8' 'utf8'
connection_cl_names='utf8_general_ci' 'utf8_general_ci'
db_cl_names='latin1_swedish_ci' 'latin1_swedish_ci'
